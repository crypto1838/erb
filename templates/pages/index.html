{% extends "base.html" %} {% load humanize %}
<!--  Block title welcome -->
{% block title %} Welcome {% endblock title %}
{% block content %}
    <!-- Showcase -->
    <section id="showcase">
      <div class="container text-center">
        <div class="home-search p-5">
          <div class="overlay p-5">
            <h1 class="display-4 mb-4">Property Searching Just Got So Easy</h1>
            <p class="lead">
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Recusandae quas, asperiores eveniet vel nostrum magnam voluptatum
              tempore! Consectetur, id commodi!
            </p>
            <div class="search">
              <form action={% url 'listings:search' %}>
              {% comment %} <form action="search.html"> {% endcomment %}
                <!-- Form Row 1 -->
                <div class="form-row">
                  <div class="col-md-4 mb-3">
                    <label class="sr-only">Keywords</label>
                    <input
                      type="text"
                      name="keywords"
                      class="form-control"
                      placeholder="Keyword (Bathrooms, ClubHouse, etc)"
                    />
                  </div>

                  <div class="col-md-4 mb-3">
                    {% comment %} <label class="sr-only">street</label> {% endcomment %}
                    <label class="sr-only">Title</label>
                    <input
                      type="text"
                      {% comment %} name="street" {% endcomment %}
                      name="title"
                      class="form-control"
                      {% comment %} placeholder="Street" {% endcomment %}
                      placeholder="Title"
                    />
                  </div>

             {% comment %}  {% endcomment %}     
             <div class="col-md-4 mb-3">
                    <label class="sr-only">District</label>
                    <select name="district" class="form-control">
                      <option selected="true" disabled="disabled">
                        District (All)
                      </option>
                      {% for key,value in district_choices.items %}
                      <option value="{{key}}">{{value}}</option>
                      {% endfor %}
                      
                    </select>
                  </div>
                </div>
                <!-- Form Row 2 -->
                <div class="form-row">
                  <div class="col-md-6 mb-3">
                    <label class="sr-only">Bedrooms</label>
                    <select name="bedrooms" class="form-control">
                      <option selected="true" disabled="disabled">
                        Bedrooms (All)
                      </option>
                      {% for key,value in bedroom_choices.items %}
                      <option value="{{key}}">{{value}}</option>
                      {% endfor %}
                      
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <select name="price" class="form-control" id="type">
                      <option selected="true" disabled="disabled">
                        Max Price (Any)
                      </option>
                      {% for key,value in price_choices.items %}
                      <option value="{{key}}">{{value}}</option>
                      {% endfor %}
                      
                    </select>
                  </div>
                </div>
                <button class="btn btn-secondary btn-block mt-4" type="submit">
                  Submit form
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Listings -->
    <section id="listings" class="py-5">
      <div class="container">
        <h3 class="text-center mb-3">Latest Listings</h3>
        <div class="row"> 
      {% if listings %}
        {% for listing in listings%}
        <!-- Listing 1 -->
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card listing-preview">
            <img
              class="card-img-top"
              {% comment %} src="assets/img/homes/home-1.jpg" {% endcomment %}
              src={{listing.photo_main.url}} alt=""/>
            <div class="card-img-overlay">
              <h2>
                {% comment %} <span class="badge badge-secondary text-white">$4,900,000</span> {% endcomment %}
                <span class="badge badge-secondary text-white">${{listing.price | intword}}</span>
              </h2>
            </div>
            <div class="card-body">
              <div class="listing-heading text-center">
                {% comment %} <h4 class="text-primary">45 Prince Street</h4> {% endcomment %}
                <h4 class="text-primary">{{listing.title | title}}</h4>
                <p>
                  {% comment %} <i class="fas fa-map-marker text-secondary"></i> Yau Tsim {% endcomment %}
                  <i class="fas fa-map-marker text-secondary"></i> {{listing.district | title }}
                </p>
              </div>
              <hr />
              <div class="row py-2 text-secondary">
                <div class="col-6">
                  {% comment %} <i class="fas fa-th-large"></i> Sqft: 2500 {% endcomment %}
                  <i class="fas fa-th-large"></i> Sqft: {{listing.sqrt | intcomma}}
                </div>
                <div class="col-6">
                  {% comment %} <i class="fas fa-dumbbell"></i> ClubHouse: 2 {% endcomment %}
                  <i class="fas fa-dumbbell"></i> ClubHouse: {{listing.clubhouse}}
                </div>
              </div>
              <div class="row py-2 text-secondary">
                <div class="col-6">
                  {% comment %} <i class="fas fa-bed"></i> Bedrooms: 3 {% endcomment %}
                  <i class="fas fa-bed"></i> Bedrooms: {{listing.bedrooms}}
                </div>
                <div class="col-6">
                  <i class="fas fa-bath"></i> Bathrooms: {{listing.bathrooms}}
                </div>
              </div>
              <hr />
              <div class="row py-2 text-secondary">
                {% comment %} <div class="col-6"><i class="fas fa-user"></i> Kyle Chan</div> {% endcomment %}
                <div class="col-6"><i class="fas fa-user"></i> {{listing.realtor.name}}</div>
              </div>
              <div class="row text-secondary pb-2">
                <div class="col-6">
                  {% comment %} <i class="fas fa-clock"></i> 5 days ago {% endcomment %}
                  <i class="fas fa-clock"></i> {{listing.list_date | timesince}}
                </div>
              </div>
              <hr />
              {% comment %} <a href="listing.html" class="btn btn-primary btn-block" {% endcomment %}
              <a href={% url "listings:listing" listing.id %} class="btn btn-primary btn-block"
                >More Info</a
              >
            </div>
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="col-md-12">
        <h2> No Listing available </h2>
        </div>
        {% endif %}
        </div>
      </div>
    </section>
    <!-- Servicing -->
    <section id="services" class="py-5 bg-secondary text-white">
      <div class="container">
        <div class="row text-center">
          <div class="col-md-4">
            {% comment %}  {% endcomment %}<i class="fas fa-comment fa-4x mr-4"></i>
            <hr />
            <h3>Consulting Services</h3>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt,
              debitis nam! Repudiandae, provident iste consequatur hic
              dignissimos ratione ea quae.
            </p>
          </div>
          <div class="col-md-4">
            <i class="fas fa-home fa-4x mr-4"></i>
            <hr />
            <h3>Propery Management</h3>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt,
              debitis nam! Repudiandae, provident iste consequatur hic
              dignissimos ratione ea quae.
            </p>
          </div>
          <div class="col-md-4">
            <i class="fas fa-suitcase fa-4x mr-4"></i>
            <hr />
            <h3>Renting & Selling</h3>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt,
              debitis nam! Repudiandae, provident iste consequatur hic
              dignissimos ratione ea quae.
            </p>
          </div>
        </div>
      </div>
    </section>

{% endblock %}